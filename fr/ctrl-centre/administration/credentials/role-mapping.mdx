---
- title: Role Mapping
---

<Warning>
  Cet article nécessite que vous ayez au moins la version 2025.2 de PADS4.
</Warning>

Une fois votre fournisseur d'identité créé, vous devrez maintenant gérer les mappages de rôles du fournisseur d'identité.

Lorsque l'utilisateur se connectera, il sera assigné aux rôles pads4 en fonction du mappage suivant des groupes d'utilisateurs du fournisseur d'identité aux rôles pads4 que vous allez configurer.

## 1. Configurer les mappages

Pour configurer ces mappages :

* Sur votre fournisseur d'identité nouvellement créé, cliquez sur "Identity mappings"

![Role Mapping1](/images/ctrl-centre/administration/credentials/role-mapping1.png)

* Sur l'onglet actuel "Role mappings", vous cliquerez sur "New" pour créer une nouvelle relation de mappage de rôle

![Role Mapping2](/images/ctrl-centre/administration/credentials/role-mapping2.png)

* Sur le formulaire de mappage de rôle, vous devrez remplir deux informations
  * Le groupe du fournisseur SSO – qui se rapporte à la revendication de groupe d'utilisateurs que vous avez configurée sur le fournisseur d'identité externe
  * Les rôles PADS4 – qui déterminent les rôles attribués à un utilisateur en fonction du groupe du fournisseur d'identité externe auquel il appartient

![Role Mapping3](/images/ctrl-centre/administration/credentials/role-mapping3.png)

* Sélectionnez un fournisseur SSO pour votre mappage de rôle
  * Si le groupe de fournisseur SSO que vous attendez n'est pas encore créé, vous pouvez cliquer sur le bouton "New SSO Group" pour ajouter un autre groupe dans la liste

![Role Mapping4](/images/ctrl-centre/administration/credentials/role-mapping4.png)

* Le nom du groupe SSO est uniquement utilisé ici pour se rappeler quelle est l'identité du groupe que vous avez créé
* L'ID du groupe SSO doit correspondre à la valeur de revendication de groupe que vous avez configurée dans la configuration des revendications du fournisseur d'identité externe
  * *Par défaut, la valeur de revendication de groupe est :*
    * *L'ID du groupe d'utilisateurs pour Azure*
    * *Le nom du groupe d'utilisateurs pour Okta*

Une fois que ce groupe SSO est rempli, cliquez sur "Create" pour enregistrer le groupe et sélectionnez le groupe sur votre formulaire de création de mappage de rôle

![Role Mapping5](/images/ctrl-centre/administration/credentials/role-mapping5.png)

* Sélectionner les rôles sur PADS4

Ici, vous devrez sélectionner les rôles qui seront attribués à l'utilisateur si l'utilisateur est membre du groupe SSO fourni

Si un rôle est manquant, vous pouvez cliquer sur le bouton "New role" pour créer un nouveau rôle et le sélectionner juste après.

![Role Mapping6](/images/ctrl-centre/administration/credentials/role-mapping6.png)

* Ensuite, cliquez sur le bouton "Create" pour enregistrer le mappage de rôle.
* Ce processus doit être répété autant que vous souhaitez spécifier différents groupes d'utilisateurs d'identité externe que vous voulez autoriser pour l'application.

<Warning>
  Si un utilisateur de votre fournisseur d'identité externe est membre d'un groupe qui est inconnu dans le tableau de mappage de rôle ci-dessous, cet utilisateur n'aura par défaut aucun droit sur l'application
</Warning>

## 2. Mettre à jour les revendications du fournisseur d'identité (optionnel)

Si vous créez votre fournisseur d'identité à partir d'un fournisseur d'identité externe SAML 2.0 personnalisé ou si vous souhaitez étendre ou mettre à jour vos attributs de revendications, vous pourriez vouloir modifier le mappage des revendications sur le fournisseur d'identité pads4 que vous avez créé.

Pour mettre à jour ces revendications, vous devrez :

* Sur votre fournisseur d'identité nouvellement créé, cliquez sur "Identity mappings"

![Role Mapping7](/images/ctrl-centre/administration/credentials/role-mapping7.png)

* Puis passez à l'onglet "Claims".

<Note>
  Si vous avez créé votre fournisseur d'identité à partir d'Azure ou Okta, vous pourriez trouver ici des mappages de revendications par défaut que vous pouvez modifier si nécessaire
</Note>

![Role Mapping8](/images/ctrl-centre/administration/credentials/role-mapping8.png)

* Ici, vous pouvez soit créer une nouvelle revendication, soit mettre à jour une revendication existante. Si vous créez une nouvelle revendication, vous devrez remplir les informations suivantes
  * Le **claim name** – qui se rapporte au nom de la revendication qui sera récupérée dans la réponse SAML
  * Le **local attribute** – qui détermine la propriété qui sera remplie avec la valeur de la revendication lorsque l'utilisateur pads sera créé

![Role Mapping9](/images/ctrl-centre/administration/credentials/role-mapping9.png)

* L'attribut local ne peut être choisi que sur une liste de propriétés d'utilisateur pads4 déterminées listées ci-dessous

| Local attribute  | Description                                                                                                                        |
| ---------------- | ---------------------------------------------------------------------------------------------------------------------------------- |
| **GroupIds**     | Se rapporte aux identifiants de groupe récupérés pour la logique d'association de mappage de rôle                                  |
| **FirstName**    | Se rapporte à la propriété prénom de l'utilisateur PADS4                                                                           |
| **SID**          | Se rapporte à la propriété nom de famille de l'utilisateur PADS4                                                                   |
| **EmailAddress** | Se rapporte à une clé unique qui est le lien entre l'utilisateur dans le fournisseur d'identité externe et l'utilisateur dans PADS |
| **Name**         | Se rapporte à la propriété email de l'utilisateur PADS4                                                                            |
| **DisplayName**  | Se rapporte à la propriété de connexion de l'utilisateur PADS4                                                                     |
| **NFC**          | Se rapporte à la propriété NFC de l'utilisateur PADS4                                                                              |
