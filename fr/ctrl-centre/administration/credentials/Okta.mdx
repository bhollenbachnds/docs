---
- title: Okta
---

<Warning>
  Cet article nécessite que vous disposiez au moins de la version PADS4 2025.2.
</Warning>

PADS4 permet l'intégration avec **Okta** pour simplifier **l'authentification et la gestion des utilisateurs**. Cela se fait via l'interface **Credentials** dans **PADS4 CTRL Center**.

Suivez les étapes ci-dessous pour connecter votre instance Okta :

## **1. Accéder au PADS4 CTRL Center**

Pour commencer :

* Ouvrez votre **navigateur web**.
* Naviguez vers l'**URL du serveur PADS4** (soit un nom DNS, soit une adresse IP).
* Connectez-vous en utilisant un **compte Administrateur**.

Une fois connecté :

* Cliquez sur **Home**.
* Utilisez le bouton **Toggle Sidebar** situé en **haut à gauche** de l'écran.
* Naviguez vers **Credentials**.
* Puis sélectionnez **Providers**.

## **2. Créer l'application Okta**

Pour configurer un fournisseur d'identité Okta, vous devrez vous connecter à Okta en tant qu'Administrateur et créer une nouvelle intégration d'application Okta.

* Sur Okta, accédez à la page Applications
* Cliquez sur "Create App Integration"

![Okta App1](/images/ctrl-centre/administration/credentials/Okta-app1.png)

* Sélectionnez la méthode de connexion "SAML 2.0" et cliquez sur "Next"

![Okta App2](/images/ctrl-centre/administration/credentials/Okta-app2.png)

* Remplissez les informations demandées dans le formulaire et cliquez sur "Next"

![Okta App3](/images/ctrl-centre/administration/credentials/Okta-app3.png)

Par exemple :

* Name: PADS4

## **3. Configuration SAML 2.0**

* Modifiez la configuration des paramètres SAML

![Okta App4](/images/ctrl-centre/administration/credentials/Okta-app4.png)

<Note>
  Assurez-vous que les valeurs "Single sign-on URL" et "Audience URI (SP Entity ID)" ont la structure décrite ci-dessous, sinon la configuration ne fonctionnera pas.
</Note>

* Single sign-on URL :
  * URL pads4 locale avec **/rdx/**[**nds.services**](http://nds.services)**.authentication.integration/api/v1/pads/Saml2/Acs**
  * Par exemple : [https://pads4.mycompany.com/rdx/nds.services.authentication.integration/api/v1/pads/Saml2/Acs](https://pads4.mycompany.com/rdx/nds.services.authentication.integration/api/v1/pads/Saml2/Acs)
* Audience URI (SP Entity ID) :
  * URL pads4 locale avec **/saml** 
  * Par exemple : [https://pads4.mycompany.com/saml](https://pads4.mycompany.com/saml)

<Warning>
  Si le domaine de votre instance pads4 est différent de "pads", vous devez mettre à jour le domaine avec votre propre nom de domaine. (par exemple : pour un domaine nommé "domaineone", l'URL sera [https://pads4.mycompany.com/rdx/nds.services.authentication.integration/api/v1/domainone/Saml2/Acs](https://pads4.mycompany.com/rdx/nds.services.authentication.integration/api/v1/domainone/Saml2/Acs)

  Votre nom de domaine configuré peut être vérifié en vous connectant avec votre compte su\root et en accédant à la section "Domains" :

  ![Domain Config](/images/ctrl-centre/administration/credentials/Domain-config.png)
</Warning>

## **4. Attributs et revendications**

* Modifiez les attributs et les revendications pour correspondre aux valeurs ci-dessous

| Nom                                                                                                                                      | Format du nom | Valeur         |
| ---------------------------------------------------------------------------------------------------------------------------------------- | ------------- | -------------- |
| [http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress](http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress) | Non spécifié  | user.email     |
| [http://schemas.xmlsoap.org/ws/2005/05/identity/claims/givenname](http://schemas.xmlsoap.org/ws/2005/05/identity/claims/givenname)       | Non spécifié  | user.firstName |
| [http://schemas.xmlsoap.org/ws/2005/05/identity/claims/surname](http://schemas.xmlsoap.org/ws/2005/05/identity/claims/surname)           | Non spécifié  | user.lastName  |

![Okta App5](/images/ctrl-centre/administration/credentials/Okta-app5.png)

* Pour l'attribut de groupe, veuillez suivre la configuration ci-dessous et assurez-vous que le filtre est défini sur l'**"Correspond à l'expression régulière"** option.

| Nom                                                                                | Format du nom | Filtre                              | Valeur |
| ---------------------------------------------------------------------------------- | ------------- | ----------------------------------- | ------ |
| [http://schemas.xmlsoap.org/claims/group](http://schemas.xmlsoap.org/claims/group) | Non spécifié  | Correspond à l'expression régulière | (\*?)  |

![Okta App6](/images/ctrl-centre/administration/credentials/Okta-app6.png)

* Cliquez sur le bouton "Suivant"
* Puis cliquez sur le bouton "Terminer" pour créer l'intégration de l'application

## **5. Attribuer des groupes d'utilisateurs à l'application**

Pour définir quels groupes d'utilisateurs auront accès à l'application, vous devrez attribuer les groupes d'utilisateurs attendus à l'application.

* Sur l'application que vous venez de créer, dans le menu supérieur, cliquez sur l'élément "Attributions"
* Cliquez sur le bouton "Attribuer" puis cliquez sur "Attribuer aux groupes"

![Okta App7](/images/ctrl-centre/administration/credentials/Okta-app7.png)

* Cliquez sur "Attribuer" pour tous les groupes que vous souhaitez attribuer à l'application et cliquez sur "Terminé"

![Okta App8](/images/ctrl-centre/administration/credentials/Okta-app8.png)

## **6. Collecte des données de configuration requises pour créer le fournisseur d'identité dans PADS4**

Afin de créer le fournisseur d'identité dans PADS4, vous devrez collecter certaines informations sur votre fournisseur d'identité Okta Entra nouvellement créé qui vous permettront de configurer le fournisseur dans PADS4.

Pour cela, vous devrez cliquer sur l'onglet "Connexion" de votre application créée et suivre les instructions ci-dessous :

* Allez dans l'application "Connexion"
* Sur le panneau SAML 2.0, cliquez sur le bouton "Plus de détails"
* Collectez les informations suivantes :

| Info. req.              | Exemple                                                                                                                  |
| ----------------------- | ------------------------------------------------------------------------------------------------------------------------ |
| URL des métadonnées     | [https://myokta.okta.com/app/xxxxxxxxxxxx/sso/saml/metadata](https://myokta.okta.com/app/xxxxxxxxxxxx/sso/saml/metadata) |
| URL de connexion        | [https://myokta.okta.com/app/xxxxxxx/xxxxxxxxxxxx/sso/saml](https://myokta.okta.com/app/xxxxxxx/xxxxxxxxxxxx/sso/saml)   |
| Certificat de signature | okta.cert                                                                                                                |

## **7. Configuration du fournisseur dans PADS4**

Avec les informations configurées et récupérées ci-dessus, vous pourrez configurer l'intégration Okta dans PADS4.

* Connectez-vous au portail Web PADS4 de votre instance PADS4 avec un compte qui possède au moins la licence PADS4 System Management.
* Sur le tableau de bord, ouvrez le menu de gauche et naviguez vers "Identifiants" en bas à gauche.
* Maintenant, cliquez sur "Fournisseurs" suivi de "Nouveau"

![Credentials Okta](/images/ctrl-centre/administration/credentials/Credentials-okta.png)

* Ouvrez le menu de configuration Okta

![Okta Provider Details](/images/ctrl-centre/administration/credentials/okta-provider-details.png)

Remplissez les informations comme suit :

* Name: Represent the name of your provider in PADS4 (can be any value)
* Indentifier: Represent the "**Émetteur**" valeur collectée à l'étape 6.
* URL de réponse : Représente votre FQDN pads4 local
  * Example: [**https://pads4.mycompany.com**](https://pads4.mycompany.com)
* URL des métadonnées : Représente l'"**URL des métadonnées**" collectée à l'étape 6
* **Identifiant** et **URL du service consommateur d'assertion** seront remplis automatiquement.

Passez maintenant à l'étape 2 pour télécharger les certificats requis :

![Okta Certificate](/images/ctrl-centre/administration/credentials/okta-certificate.png)

* **Certificat de signature du fournisseur** : Téléchargez le certificat de signature Okta récupéré à l'étape 6.
* **Certificat de/pour "domainone"** : Téléchargez n'importe quel certificat (.PFX) que vous souhaitez utiliser pour signer les assertions de PADS4 vers le fournisseur d'identité externe.
* **Mot de passe de la clé privée** : Remplissez le mot de passe associé au certificat PFX utilisé ci-dessus.

<Tip>
  **Si vous n'avez pas besoin d'activer le provisionnement SCIM sur votre configuration de fournisseur d'identité, vous pouvez terminer le processus de création du fournisseur d'identité en cliquant sur le bouton "Créer"**
</Tip>
