**Variables Viewer** permettent la personnalisation dynamique du contenu en remplaçant les espaces réservés par des valeurs en temps réel pour chaque **Viewer**. Ces variables peuvent être utilisées dans les **champs de texte, fournisseurs de données, règles, filtres et autres éléments**, garantissant que le contenu affiché est spécifique à chaque Viewer sans nécessiter de présentations séparées.

***

## **Gestion des variables Viewer**

### **System Management (Niveau administrateur)**

* Les variables Viewer sont créées dans **PADS4 System Management**.
* Chaque variable a une **default value** assignée.
* Ces variables s'appliquent à tous les Viewers sauf si elles sont remplacées.
* Les utilisateurs **ne peuvent pas ajouter ou supprimer des variables** via **PADS4 Agent**.

### **PADS4 Agent (Niveau utilisateur)**

* Les variables Viewer peuvent être **modifiées** via **PADS4 Agent (onglet Server)**.
* Les modifications effectuées ici **écrasent** les valeurs par défaut définies dans **System Management**.

### **Options Viewer (Ajustement local)**

* La fenêtre **Viewer Options** dans l'application **PADS4 Viewer** permet des **ajustements locaux**.
* Ces modifications **remplacent à la fois les paramètres de System Management et de PADS4 Agent**.

***

## **Utilisation des variables Viewer**

### **Comment les variables Viewer sont identifiées**

* Une variable Viewer est écrite comme `#VariableName#`.
* Example: `#Store Name#`.

### **Utilisation des variables Viewer dans les éléments de texte**

* Example:
  * **System Management :** `#Store Name# = New York Health`
  * **Élément de texte :** `Welcome to #Store Name#!`
  * **Sortie affichée :** `Welcome to New York Health!`

Cette méthode permet d'utiliser **une seule présentation pour plusieurs emplacements** tout en ajustant dynamiquement le texte.

***

## **Où les variables Viewer peuvent-elles être utilisées ?**

### **Champs basés sur du texte**

* Contenu textuel de playlist.
* Conditions de règles.
* Liaisons de propriétés.
* Connexions de fournisseurs de données.

### **Fournisseurs de données**

* Utilisés dans **le tri, le filtrage, les expressions, les références de fichiers, les paramètres, les requêtes SQL**.

### **Cas d'utilisation d'automatisation**

* **Filtrage par taille de magasin :**
  * Si un magasin a une **variable Viewer pour la taille** (`L, XL, XXL`), seuls les produits pertinents pour cette taille sont affichés.
* **Contenu basé sur la localisation :**
  * Une **variable Viewer basée sur le GPS** permet d'afficher des **cartes ou publicités spécifiques à l'emplacement**.
* **Une seule présentation pour plusieurs Viewers :**
  * Au lieu de créer plusieurs présentations, **une seule présentation peut être utilisée avec des variables Viewer** pour modifier **dynamiquement les noms de magasins, les adresses ou les promotions**.

***

## **Quand NE PAS utiliser les variables Viewer**

* **Pour les mises à jour continues en temps réel** (par exemple, les prix des actions qui changent rapidement).
* Dans ces cas, un **data provider** devrait être utilisé à la place.

***

## **Quand les variables du Viewer sont-elles mises à jour ?**

### **Dans la source de données**

* Lorsque le **Viewer récupère des données**, les **variables sont remplacées immédiatement**.
* Si le **data provider se met à jour**, les **nouvelles valeurs sont appliquées**.

### **Dans les Data Providers**

* Si une **Viewer Variable** est utilisée dans **des filtres, des tris ou des requêtes**, elle est **remplacée au début de la récupération des données**.
* Si un data provider **se met à jour une fois par heure**, **les Viewer Variables ne se mettent à jour qu'après le prochain cycle de lecture**.

### **Dans les présentations**

* Lorsqu'une **présentation se charge**, **les Viewer Variables dans les éléments (texte, images, vidéos) sont remplacées**.

### **Dans les règles**

* **Les Viewer Variables dans les règles** sont remplacées **uniquement lorsque la règle est vérifiée**.
* **Les vérifications de règles ne se déclenchent pas automatiquement** si une Viewer Variable change.

### **Dans les liaisons de propriétés**

* Si un **data provider se met à jour à intervalle défini**, les **nouvelles valeurs des Viewer Variables remplacent les anciennes**.
* Cependant, modifier une Viewer Variable **ne force pas le data provider à se rafraîchir**.

### **Dans les playlists**

* Si la **playlist ne contient qu'un seul élément**, la **Viewer Variable n'est remplacée qu'une seule fois** (elle ne se met pas à jour).
* Si **l'alternance de playlist est activée**, la **Viewer Variable est remplacée par de nouvelles valeurs après chaque intervalle**.

***

## **Principaux avantages des Viewer Variables**

* **Une présentation peut être utilisée dans plusieurs emplacements**, réduisant ainsi la duplication.
* **Personnalisation automatisée du contenu**, comme les noms et emplacements des magasins.
* **Fonctionne parfaitement avec les data providers, les filtres et les règles**.
* **Mises à jour efficaces sans reconcevoir les présentations**.
